<section class="accounts-profile">

  <h3 class="logo">Profile</h3>

  <form [ng-form-model]="profileForm" (submit)="add()">
    <label>Username</label>
    <input type="text" [(ng-model)]="profile.username">
    <br/>
    <label>Email</label>
    <input type="email" [(ng-model)]="profile.email" [disabled]=true>

    <!-- todo: change email -->
    <br/>

    <button *ng-if="!toggler" (click)="toggle($event)">Change Password</button>

    <div *ng-if="toggler">
      <form [ng-form-model]="passwordChangeForm" (submit)="changePassword(cp.oldPassword, cp.newPassword)" #cp="form">
        <label>Old Password</label>
        <input type="password" [(ng-model)]="oldPassword">
        <br/>
        <label>New Password</label>
        <input type="password" [(ng-model)]="newPassword">
        <br/>
        <button type="submit">Update Password</button>
        <button (click)="toggle($event)">Cancel</button>
      </form>
    </div>

    <button type="submit">Add</button>
  </form>


</section>